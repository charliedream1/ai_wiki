ä½ å·²ç»æˆåŠŸè¿è¡Œäº† Docker é•œåƒï¼Œç°åœ¨æƒ³ï¼š
1. **åœæ­¢å½“å‰è¿è¡Œçš„å®¹å™¨**  
2. **é‡æ–°è¿è¡Œå®¹å™¨ï¼Œå¹¶æŒ‚è½½æœ¬åœ°çš„ `/home/ubuntu/model_zoos` ç›®å½•åˆ°å®¹å™¨å†…**  

ä»¥ä¸‹æ˜¯è¯¦ç»†æ­¥éª¤ï¼š

---

## **1. åœæ­¢å½“å‰è¿è¡Œçš„å®¹å™¨**
é¦–å…ˆï¼Œæ‰¾åˆ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨çš„ ID æˆ–åç§°ï¼š
```bash
docker ps
```
è¾“å‡ºç¤ºä¾‹ï¼š
```
CONTAINER ID   IMAGE                                                                 COMMAND                  CREATED          STATUS          PORTS     NAMES
abc123def456   modelscope-registry.cn-beijing.cr.aliyuncs.com/modelscope-repo/modelscope:...  "/bin/bash"              5 minutes ago    Up 5 minutes             my_modelscope_container
```
- **`CONTAINER ID`**ï¼ˆå¦‚ `abc123def456`ï¼‰æˆ– **`NAMES`**ï¼ˆå¦‚ `my_modelscope_container`ï¼‰ç”¨äºåç»­æ“ä½œã€‚

### **åœæ­¢å®¹å™¨**
```bash
docker stop <å®¹å™¨IDæˆ–åç§°>
```
ä¾‹å¦‚ï¼š
```bash
docker stop abc123def456
```
æˆ–ï¼š
```bash
docker stop my_modelscope_container
```

### **éªŒè¯å®¹å™¨æ˜¯å¦å·²åœæ­¢**
```bash
docker ps
```
å¦‚æœå®¹å™¨å·²åœæ­¢ï¼Œ`docker ps` ä¸ä¼šæ˜¾ç¤ºå®ƒã€‚  
å¦‚æœæƒ³æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬å·²åœæ­¢çš„ï¼‰ï¼Œå¯ä»¥è¿è¡Œï¼š
```bash
docker ps -a
```

---

## **2. é‡æ–°è¿è¡Œå®¹å™¨å¹¶æŒ‚è½½ `/home/ubuntu/model_zoos`**
ä½¿ç”¨ `docker run` é‡æ–°å¯åŠ¨å®¹å™¨ï¼Œå¹¶é€šè¿‡ `-v` å‚æ•°æŒ‚è½½æœ¬åœ°ç›®å½•åˆ°å®¹å™¨å†…ã€‚

### **åŸºæœ¬æŒ‚è½½å‘½ä»¤**
```bash
docker run -it \
  --gpus all \  # å¦‚æœéœ€è¦ GPUï¼ˆæ ¹æ®ä½ çš„é•œåƒéœ€æ±‚å†³å®šæ˜¯å¦ä¿ç•™ï¼‰
  -v /home/ubuntu/model_zoos:/container/mount/path \  # æŒ‚è½½æœ¬åœ°ç›®å½•åˆ°å®¹å™¨å†…
  modelscope-registry.cn-beijing.cr.aliyuncs.com/modelscope-repo/modelscope:ubuntu22.04-cuda12.4.0-py310-torch2.6.0-vllm0.8.5.post1-modelscope1.27.1-swift3.5.3 \
  /bin/bash
```
**å‚æ•°è¯´æ˜ï¼š**
- `-it`ï¼šä»¥äº¤äº’æ¨¡å¼è¿è¡Œï¼ˆè¿›å…¥å®¹å™¨çš„ç»ˆç«¯ï¼‰ã€‚
- `--gpus all`ï¼šåˆ†é…æ‰€æœ‰å¯ç”¨çš„ GPUï¼ˆå¦‚æœä½ çš„é•œåƒéœ€è¦ CUDAï¼Œä¸”ä½ çš„æœºå™¨æœ‰ NVIDIA GPUï¼‰ã€‚
- `-v /home/ubuntu/model_zoos:/container/mount/path`ï¼š
  - `/home/ubuntu/model_zoos`ï¼š**å®¿ä¸»æœºï¼ˆHostï¼‰ä¸Šçš„æœ¬åœ°ç›®å½•**ã€‚
  - `/container/mount/path`ï¼š**å®¹å™¨å†…çš„æŒ‚è½½è·¯å¾„**ï¼ˆå¯è‡ªå®šä¹‰ï¼Œå¦‚ `/data`ã€`/models` ç­‰ï¼‰ã€‚
- æœ€åæ˜¯é•œåƒåç§°å’Œæ ‡ç­¾ã€‚

### **ç¤ºä¾‹ï¼ˆæŒ‚è½½åˆ°å®¹å™¨å†…çš„ `/data` ç›®å½•ï¼‰**
```bash
docker run -it \
  --gpus all \
  -v /home/ubuntu/model_zoos:/data \
  modelscope-registry.cn-beijing.cr.aliyuncs.com/modelscope-repo/modelscope:ubuntu22.04-cuda12.4.0-py310-torch2.6.0-vllm0.8.5.post1-modelscope1.27.1-swift3.5.3 \
  /bin/bash
```
è¿™æ ·ï¼Œå®¹å™¨å†…çš„ `/data` ç›®å½•ä¼šç›´æ¥æ˜ å°„åˆ°å®¿ä¸»æœºçš„ `/home/ubuntu/model_zoos`ã€‚

---

## **3. éªŒè¯æŒ‚è½½æ˜¯å¦æˆåŠŸ**
è¿›å…¥å®¹å™¨åï¼Œæ£€æŸ¥æŒ‚è½½çš„ç›®å½•æ˜¯å¦å­˜åœ¨ï¼š
```bash
ls /data  # æˆ–ä½ æŒ‡å®šçš„æŒ‚è½½è·¯å¾„ï¼ˆå¦‚ /modelsï¼‰
```
å¦‚æœèƒ½çœ‹åˆ° `/home/ubuntu/model_zoos` ä¸­çš„æ–‡ä»¶ï¼Œè¯´æ˜æŒ‚è½½æˆåŠŸã€‚

---

## **4. å…¶ä»–å¸¸ç”¨é€‰é¡¹ï¼ˆå¯é€‰ï¼‰**
### **(1) æŒ‚è½½å¤šä¸ªç›®å½•**
å¯ä»¥åŒæ—¶æŒ‚è½½å¤šä¸ªç›®å½•ï¼Œä¾‹å¦‚ï¼š
```bash
docker run -it \
  --gpus all \
  -v /home/ubuntu/model_zoos:/data \
  -v /home/ubuntu/configs:/configs \
  modelscope-registry.cn-beijing.cr.aliyuncs.com/modelscope-repo/modelscope:... \
  /bin/bash
```

### **(2) æŒ‚è½½ä¸ºåªè¯»ï¼ˆé˜²æ­¢å®¹å™¨ä¿®æ”¹å®¿ä¸»æœºæ–‡ä»¶ï¼‰**
å¦‚æœå¸Œæœ›å®¹å™¨ä¸èƒ½ä¿®æ”¹å®¿ä¸»æœºæ–‡ä»¶ï¼Œå¯ä»¥åŠ  `:ro`ï¼ˆread-onlyï¼‰ï¼š
```bash
docker run -it \
  --gpus all \
  -v /home/ubuntu/model_zoos:/data:ro \
  modelscope-registry.cn-beijing.cr.aliyuncs.com/modelscope-repo/modelscope:... \
  /bin/bash
```

### **(3) æ˜ å°„ç«¯å£ï¼ˆå¦‚æœé•œåƒæœ‰æœåŠ¡ï¼‰**
å¦‚æœé•œåƒè¿è¡Œçš„æ˜¯ Web æœåŠ¡ï¼ˆå¦‚ Flaskã€FastAPIï¼‰ï¼Œå¯ä»¥æ˜ å°„ç«¯å£ï¼š
```bash
docker run -it \
  --gpus all \
  -v /home/ubuntu/model_zoos:/data \
  -p 8080:8080 \  # å°†å®¹å™¨çš„ 8080 ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„ 8080 ç«¯å£
  modelscope-registry.cn-beijing.cr.aliyuncs.com/modelscope-repo/modelscope:... \
  /bin/bash
```
ç„¶åå¯ä»¥é€šè¿‡ `http://å®¿ä¸»æœºIP:8080` è®¿é—®æœåŠ¡ã€‚

---

## **5. å¦‚æœä¸æƒ³é‡æ–°è¿è¡Œå®¹å™¨ï¼Œè€Œæ˜¯ä¿®æ”¹ç°æœ‰å®¹å™¨ï¼ˆä¸æ¨èï¼‰**
Docker **ä¸æ”¯æŒç›´æ¥ä¿®æ”¹å·²è¿è¡Œå®¹å™¨çš„æŒ‚è½½**ï¼Œä½†å¯ä»¥ï¼š
1. **æäº¤å½“å‰å®¹å™¨ä¸ºæ–°é•œåƒ**ï¼š
   ```bash
   docker commit <å®¹å™¨IDæˆ–åç§°> new_image_name
   ```
2. **ç”¨æ–°é•œåƒé‡æ–°è¿è¡Œå¹¶æŒ‚è½½**ï¼š
   ```bash
   docker run -it -v /home/ubuntu/model_zoos:/data new_image_name /bin/bash
   ```
âš ï¸ **ä¸æ¨è**ï¼šè¿™ç§æ–¹å¼ä¼šä¸¢å¤±å®¹å™¨çš„è¿è¡ŒçŠ¶æ€ï¼ˆå¦‚å·²åŠ è½½çš„æ¨¡å‹ã€ç¼“å­˜ç­‰ï¼‰ï¼Œå»ºè®®ç›´æ¥åœæ­¢åé‡æ–°è¿è¡Œã€‚

---

## **æ€»ç»“**
| æ­¥éª¤ | æ“ä½œ |
|------|------|
| **1. åœæ­¢å½“å‰å®¹å™¨** | `docker stop <å®¹å™¨IDæˆ–åç§°>` |
| **2. é‡æ–°è¿è¡Œå¹¶æŒ‚è½½** | `docker run -it --gpus all -v /home/ubuntu/model_zoos:/data <é•œåƒå> /bin/bash` |
| **3. éªŒè¯æŒ‚è½½** | åœ¨å®¹å™¨å†… `ls /data` æ£€æŸ¥æ–‡ä»¶ |
| **4. å…¶ä»–é€‰é¡¹** | æŒ‚è½½å¤šä¸ªç›®å½•ã€åªè¯»æŒ‚è½½ã€ç«¯å£æ˜ å°„ç­‰ |

**æ¨èå‘½ä»¤ï¼ˆå®Œæ•´ç¤ºä¾‹ï¼‰ï¼š**
```bash
docker run -it \
  --gpus all \
  -v /home/ubuntu/model_zoos:/data \
  modelscope-registry.cn-beijing.cr.aliyuncs.com/modelscope-repo/modelscope:ubuntu22.04-cuda12.4.0-py310-torch2.6.0-vllm0.8.5.post1-modelscope1.27.1-swift3.5.3 \
  /bin/bash
```

å¦‚æœè¿˜æœ‰å…¶ä»–éœ€æ±‚ï¼ˆå¦‚åå°è¿è¡Œã€æ—¥å¿—è¾“å‡ºç­‰ï¼‰ï¼Œå¯ä»¥è¿›ä¸€æ­¥è°ƒæ•´å‘½ä»¤ï¼ ğŸš€